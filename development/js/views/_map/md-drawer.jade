//- Toolbar
.md-drawer-toolbar

  //- Searchbar
  .ly-halfscreen-left
    .md-searchbar(ng-class="{'md-searchbar-normal': outsideViewCtrl.hideHomepage}")
      button.cp-input-btn.btn.btn-default(ng-click="interface.showUserSection = true", ng-hide="!outsideViewCtrl.hideHomepage")
        i.icon-user
      button.cp-input-btn.btn.btn-default(ng-click="drawerCtrl.toggleDrawer()", ng-hide="!outsideViewCtrl.hideHomepage")
        | {{drawerCtrl.toggleDrawerButtonText}}
      input.cp-input-naked.form-control(type="text", placeholder="Search place", mp-map-searchbox="", mini-typeahead="mpMapSearchboxCtrl.typeaheadOptions", mini-typeahead-list="mapCtrl.placePredictions", ng-model="mapCtrl.searchboxInput", ng-change="mpMapSearchboxCtrl.hideHomepage(); mapCtrl.getQueryPredictions()")
      button.cp-input-btn.btn.btn-primary(type="button", ng-click="mapCtrl.queryPlacesService()")
        | Search

  //- Actions to marked places list
  .ly-halfscreen-right(ng-hide="!outsideViewCtrl.hideHomepage")
    button.cp-input-btn.btn.btn-default(ng-click="mapCtrl.toggleDirections()")
      i.icon-code-fork
      |  Toggle directions
    button.cp-input-btn.btn.btn-default(ng-click="drawerCtrl.displayAllMarkers()")
      i.icon-fullscreen
      |  Display all markers
    button.cp-input-btn.btn.btn-default(ng-click="drawerCtrl.toggleEditProject()")
      i.icon-edit-sign
      |  Edit project details


//- Body
.md-drawer-body
  //- Search
  .ly-halfscreen-left(perfect-scrollbar="mapCtrl.placesServiceResults.length")
    .md-drawer-body-subsetion
      header.md-drawer-list-header.lead
        | Showing {{TheMap.searchResults.length}} search results

      ul.md-places
        li.md-places-item.clearfix(ng-repeat="place in mapCtrl.placesServiceResults")
          .md-places-item-image
            a(href="", ng-click="drawerCtrl.showPlaceOnMap(place)")
              img(ng-src="{{place.icon}}")
          .md-places-item-actions
            a(href="", ng-click="mapCtrl.addPlaceToList(place)")
              i.icon-ok
          .md-places-item-details
            .md-places-item-name {{place.name}}
            address {{place.formatted_address}}

  //- Project
  .ly-halfscreen-right(perfect-scrollbar="mapCtrl.theProject.places.length", ng-class="{'md-drawer-show-edit-project-subsection': drawerCtrl.showEditProjectSubsection}")

    .md-drawer-body-subsetion#md-drawer-body-subsetion-places
      header.md-drawer-list-header.lead {{drawerCtrl.getProjectTitle()}}

      ul.md-places
        //- Item - place
        li.md-places-item(ng-repeat-start="place in mapCtrl.theProject.places", sidebar-place="sidebar-place")
          .md-places-item-image
            a(href="", ng-click="drawerCtrl.showPlaceOnMap(place)")
              img(ng-src="/img/blue-marker-3d.png")
          .md-places-item-actions
            a(href="", ng-click="mapCtrl.theProject.removePlace(place)")
              i.icon-remove
          .md-places-item-details
            .md-places-item-name {{place.name}}
            address {{place.formatted_address}}
            p {{place.notes}}

        //- Item - direction info
        li.md-places-item.md-places-item-route(ng-repeat-end="", ng-show="place.$$leg")
          span.md-places-item-route-duration {{place.$$leg.duration.text}}
          | ,&nbsp;
          span.md-places-item-route-distance {{place.$$leg.distance.text}}
          |  to next place

    .md-drawer-body-subsetion#md-drawer-body-subsetion-edit-project(md-edit-project)
